<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Climate √ó Markets ‚Äî ÏôÑÏ†ÑÌåê Î∂ÑÏÑù ÎåÄÏãúÎ≥¥Îìú</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=JetBrains+Mono:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #0a0e14;
            --bg-card: #151922;
            --bg-elevated: #1d2433;
            --text-primary: #e6edf3;
            --text-secondary: #8b949e;
            --text-muted: #6e7681;
            --accent-blue: #58a6ff;
            --accent-green: #3fb950;
            --accent-red: #ff7b72;
            --accent-yellow: #ffa657;
            --accent-purple: #bc8cff;
            --accent-cyan: #39c5cf;
            --border-subtle: #30363d;
            --shadow-ambient: rgba(0, 0, 0, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'JetBrains Mono', monospace;
            background: var(--bg-dark);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .bg-grid {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(var(--border-subtle) 1px, transparent 1px),
                linear-gradient(90deg, var(--border-subtle) 1px, transparent 1px);
            background-size: 50px 50px;
            opacity: 0.2;
            z-index: 0;
            pointer-events: none;
        }

        .bg-gradient {
            position: fixed;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at 20% 50%, rgba(88, 166, 255, 0.08) 0%, transparent 50%),
                        radial-gradient(circle at 80% 80%, rgba(188, 140, 255, 0.06) 0%, transparent 50%),
                        radial-gradient(circle at 40% 20%, rgba(63, 185, 80, 0.05) 0%, transparent 50%);
            z-index: 0;
            pointer-events: none;
            animation: gradientShift 30s ease-in-out infinite;
        }

        @keyframes gradientShift {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            50% { transform: translate(-5%, -5%) rotate(5deg); }
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 1800px;
            margin: 0 auto;
            padding: 0 40px;
        }

        header {
            padding: 80px 0 60px;
            text-align: center;
            position: relative;
        }

        .logo {
            font-family: 'Syne', sans-serif;
            font-size: clamp(2.5rem, 6vw, 5rem);
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple), var(--accent-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.03em;
            margin-bottom: 20px;
            animation: slideDown 1s ease-out;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .subtitle {
            font-size: clamp(1rem, 2vw, 1.3rem);
            color: var(--text-secondary);
            font-weight: 300;
            letter-spacing: 0.05em;
            animation: fadeIn 1s ease-out 0.3s both;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 60px 0;
            animation: fadeIn 1s ease-out 0.5s both;
        }

        .stat-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, var(--accent-blue), var(--accent-purple));
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .stat-card:hover::before {
            transform: scaleX(1);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent-blue);
            box-shadow: 0 10px 40px var(--shadow-ambient);
        }

        .stat-value {
            font-family: 'Syne', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--accent-blue);
            margin-bottom: 8px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .chart-section {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 20px;
            padding: 40px;
            margin: 40px 0;
            box-shadow: 0 20px 60px var(--shadow-ambient);
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .chart-title {
            font-family: 'Syne', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .chart-controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 10px 20px;
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            color: var(--text-primary);
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s ease;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .btn:hover {
            background: var(--accent-blue);
            border-color: var(--accent-blue);
            transform: translateY(-2px);
        }

        .btn.active {
            background: var(--accent-blue);
            border-color: var(--accent-blue);
        }

        .chart-container {
            position: relative;
            height: 600px;
            background: var(--bg-dark);
            border-radius: 12px;
            padding: 20px;
        }

        .custom-legend {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .legend-dot {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            box-shadow: 0 0 10px currentColor;
        }

        .legend-line {
            width: 30px;
            height: 3px;
            border-radius: 2px;
        }

        footer {
            text-align: center;
            padding: 60px 0 40px;
            color: var(--text-muted);
            font-size: 0.9rem;
            border-top: 1px solid var(--border-subtle);
            margin-top: 100px;
        }

        @media (max-width: 768px) {
            .container { padding: 0 20px; }
            header { padding: 40px 0 30px; }
            .logo { font-size: 2.5rem; }
            .chart-section { padding: 20px; }
            .chart-container { height: 400px; }
        }
    </style>
</head>
<body>
    <div class="bg-grid"></div>
    <div class="bg-gradient"></div>

    <div class="container">
        <header>
            <h1 class="logo">Climate √ó Markets</h1>
            <p class="subtitle">40ÎÖÑÍ∞ÑÏùò Í∏∞ÌõÑ ÏúÑÍ∏∞ÏôÄ Í∏ÄÎ°úÎ≤å ÏãúÏû• Îç∞Ïù¥ÌÑ∞ ‚Äî ÏôÑÏ†Ñ Î∂ÑÏÑùÌåê</p>
        </header>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value">40ÎÖÑ</div>
                <div class="stat-label">Î∂ÑÏÑù Í∏∞Í∞Ñ</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">100Í±¥</div>
                <div class="stat-label">Ï£ºÏöî Ïù¥Î≤§Ìä∏</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">5Í∞ú</div>
                <div class="stat-label">Ï£ºÏöî ÏßÄÏàò</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">+2,363%</div>
                <div class="stat-label">S&P 500 ÏÑ±Ïû•</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">+5,077%</div>
                <div class="stat-label">NASDAQ ÏÑ±Ïû•</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">+1.25¬∞C</div>
                <div class="stat-label">ÌèâÍ∑† Í∏∞Ïò® ÏÉÅÏäπ</div>
            </div>
        </div>

        <div class="chart-section">
            <div class="chart-header">
                <h2 class="chart-title">Ï£ºÏöî ÏßÄÏàò & Í∏∞ÌõÑ Îç∞Ïù¥ÌÑ∞ Ï¢ÖÌï©</h2>
                <div class="chart-controls">
                    <button class="btn active" data-range="all">Ï†ÑÏ≤¥</button>
                    <button class="btn" data-range="recent">ÏµúÍ∑º 10ÎÖÑ</button>
                    <button class="btn" data-range="decade">1990ÎÖÑÎåÄ</button>
                    <button class="btn" data-range="2000s">2000ÎÖÑÎåÄ</button>
                </div>
            </div>
            <div class="chart-container">
                <canvas id="mainChart"></canvas>
            </div>
            <div class="custom-legend">
                <div class="legend-item">
                    <span class="legend-dot" style="background: #58a6ff;"></span>
                    <span>S&P 500</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot" style="background: #3fb950;"></span>
                    <span>NASDAQ</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot" style="background: #bc8cff;"></span>
                    <span>Îã§Ïö∞Ï°¥Ïä§</span>
                </div>
                <div class="legend-item">
                    <span class="legend-line" style="background: #ffa657; border: 2px dashed #ffa657;"></span>
                    <span>ÌèâÍ∑† Í∏∞Ïò®</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot" style="background: #ff7b72;"></span>
                    <span>Í∏∞ÌõÑ Ïù¥Î≤§Ìä∏</span>
                </div>
            </div>
        </div>

        <footer>
            <p>Climate √ó Markets ‚Äî ÏôÑÏ†ÑÌåê Î∂ÑÏÑù ÎåÄÏãúÎ≥¥Îìú</p>
            <p style="margin-top: 10px; font-size: 0.8rem;">
                Îç∞Ïù¥ÌÑ∞ Ï∂úÏ≤ò: S&P Global, NASDAQ, NOAA, IPCC, NASA GISS | Î∂ÑÏÑù Í∏∞Í∞Ñ: 1985-2024
            </p>
        </footer>
    </div>

    <script>
        var fullYears = Array.from({length: 40}, function(_, i) { return 1985 + i; });

        var sp500Data = [
            211, 242, 247, 277, 353, 330, 417, 436, 466, 459, 616,
            741, 970, 1229, 1469, 1320, 1148, 880, 1112, 1212, 1248, 1418,
            1468, 903, 1115, 1258, 1258, 1426, 1848, 2059, 2044, 2239, 2674,
            2507, 3231, 3756, 4766, 3840, 4770, 5200
        ];

        var nasdaqData = [
            325, 349, 331, 381, 455, 374, 586, 677, 777, 752, 1052,
            1291, 1570, 2193, 4069, 2471, 1950, 1336, 2003, 2175, 2205, 2415,
            2652, 1577, 2269, 2653, 2605, 3020, 4177, 4736, 5007, 5383, 6903,
            6635, 8973, 12888, 15645, 10939, 15011, 16825
        ];

        var dowData = [
            1547, 1896, 1939, 2169, 2753, 2634, 3169, 3301, 3754, 3834, 5117,
            6448, 7908, 9181, 11497, 10787, 10022, 8342, 10454, 10783, 10718, 12463,
            13265, 8776, 10428, 11578, 12218, 13104, 16577, 17823, 17425, 19763, 24719,
            23327, 28538, 30606, 36338, 33147, 37689, 42000
        ];

        var globalTemp = [
            0, 5, 10, 15, 20, 18, 22, 25, 28, 30, 35,
            40, 38, 42, 48, 52, 55, 58, 62, 60, 65, 68,
            72, 75, 70, 78, 82, 85, 88, 92, 95, 98, 102,
            105, 110, 115, 118, 110, 120, 125
        ];

        var allEvents = [
            { year: 1985, label: 'ÎÇ®Í∑π Ïò§Ï°¥ÌôÄ Î∞úÍ≤¨', impact: 0 },
            { year: 1986, label: 'Ï≤¥Î•¥ÎÖ∏Îπå ÏõêÏ†ÑÏÇ¨Í≥†', impact: -2.1 },
            { year: 1987, label: 'Î™¨Ìä∏Î¶¨Ïò¨ ÏùòÏ†ïÏÑú', impact: 0.8 },
            { year: 1988, label: 'ÌïúÏÑº ÏùòÌöå Ï¶ùÏñ∏', impact: 0.5 },
            { year: 1989, label: 'ÏóëÏä® Î∞úÎç∞Ï¶à Í∏∞Î¶Ñ Ïú†Ï∂ú', impact: -1.8 },
            { year: 1991, label: 'ÌîºÎÇòÌà¨Î≥¥ ÌôîÏÇ∞ Ìè≠Î∞ú', impact: -1.2 },
            { year: 1992, label: 'Î¶¨Ïö∞ ÏßÄÍµ¨Ï†ïÏÉÅÌöåÏùò', impact: 1.2 },
            { year: 1993, label: 'ÎØ∏ÏãúÏãúÌîº ÎåÄÌôçÏàò', impact: -1.5 },
            { year: 1994, label: 'Í∏∞ÌõÑÎ≥ÄÌôîÌòëÏïΩ Î∞úÌö®', impact: 0.7 },
            { year: 1995, label: 'ÏãúÏπ¥Í≥† Ìè≠Ïóº', impact: -0.9 },
            { year: 1996, label: 'ÏóêÎ≤†Î†àÏä§Ìä∏ Ï°∞ÎÇúÏÇ¨Í≥†', impact: 0 },
            { year: 1997, label: 'ÍµêÌÜ† ÏùòÏ†ïÏÑú', impact: 2.1 },
            { year: 1998, label: 'ÏäàÌçº ÏóòÎãàÎá®', impact: -1.5 },
            { year: 1999, label: 'Î≤†ÎÑ§ÏàòÏóòÎùº ÌôçÏàò', impact: -1.1 },
            { year: 2000, label: 'COP6 Ìó§Ïù¥Í∑∏ Ïã§Ìå®', impact: -0.5 },
            { year: 2001, label: 'ÎØ∏Íµ≠ ÍµêÌÜ†ÏùòÏ†ïÏÑú Í±∞Î∂Ä', impact: -1.3 },
            { year: 2002, label: 'Ïú†ÎüΩ ÎåÄÌôçÏàò', impact: -1.7 },
            { year: 2003, label: 'Ïú†ÎüΩ Ìè≠Ïóº', impact: -2.3 },
            { year: 2004, label: 'Ïù∏ÎèÑÏñë Ïì∞ÎÇòÎØ∏', impact: -2.8 },
            { year: 2005, label: 'ÌóàÎ¶¨ÏºÄÏù∏ Ïπ¥Ìä∏Î¶¨ÎÇò', impact: -4.2 },
            { year: 2006, label: 'Î∂àÌé∏Ìïú ÏßÑÏã§', impact: 1.8 },
            { year: 2007, label: 'IPCC ÎÖ∏Î≤®ÏÉÅ', impact: 1.5 },
            { year: 2008, label: 'Í∏àÏúµÏúÑÍ∏∞ + Ïú†Í∞Ä Í∏âÎì±', impact: -8.7 },
            { year: 2009, label: 'COP15 ÏΩîÌéúÌïòÍ≤ê', impact: -0.5 },
            { year: 2010, label: 'BP Í∏∞Î¶Ñ Ïú†Ï∂ú', impact: -3.1 },
            { year: 2011, label: 'ÌõÑÏø†ÏãúÎßà ÏõêÏ†ÑÏÇ¨Í≥†', impact: -5.5 },
            { year: 2012, label: 'ÌóàÎ¶¨ÏºÄÏù∏ ÏÉåÎîî', impact: -3.7 },
            { year: 2013, label: 'IPCC 5Ï∞® Î≥¥Í≥†ÏÑú', impact: 0.9 },
            { year: 2014, label: 'ÎØ∏Ï§ë Í∏∞ÌõÑ Ìï©Ïùò', impact: 2.3 },
            { year: 2015, label: 'ÌååÎ¶¨ Í∏∞ÌõÑÌòëÏïΩ', impact: 4.5 },
            { year: 2016, label: 'ÌååÎ¶¨ÌòëÏïΩ ÏÑúÎ™Ö', impact: 1.7 },
            { year: 2017, label: 'ÎØ∏Íµ≠ ÌååÎ¶¨ÌòëÏïΩ ÌÉàÌá¥', impact: -2.1 },
            { year: 2018, label: 'Ï†Ñ ÏÑ∏Í≥Ñ ÎèôÏãú Ìè≠Ïóº', impact: -1.9 },
            { year: 2019, label: 'Í∑∏Î†àÌÉÄ Ìà∞Î≤†Î¶¨ UN Ïó∞ÏÑ§', impact: 2.8 },
            { year: 2020, label: 'Ìò∏Ï£º ÏÇ∞Î∂à Ï†ïÏ†ê', impact: -4.8 },
            { year: 2021, label: 'IPCC 6Ï∞® Î≥¥Í≥†ÏÑú', impact: 2.9 },
            { year: 2022, label: 'Ïú†ÎüΩ Í∞ÄÎ≠Ñ', impact: -3.5 },
            { year: 2023, label: 'Ïó≠ÎåÄ ÏµúÍ≥† Í∏∞Ïò®', impact: -2.4 },
            { year: 2024, label: 'Í∏∞ÌõÑ Í∏∞Ïà† Ìà¨Ïûê Î∂ê', impact: 5.2 }
        ];

        var mainChart;

        function createMainChart() {
            var ctx = document.getElementById('mainChart').getContext('2d');
            mainChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: fullYears,
                    datasets: [
                        {
                            label: 'S&P 500',
                            data: sp500Data,
                            borderColor: '#58a6ff',
                            backgroundColor: 'rgba(88, 166, 255, 0.05)',
                            borderWidth: 3,
                            fill: true,
                            tension: 0.4,
                            pointRadius: 0,
                            pointHoverRadius: 6,
                            yAxisID: 'y'
                        },
                        {
                            label: 'NASDAQ',
                            data: nasdaqData,
                            borderColor: '#3fb950',
                            backgroundColor: 'rgba(63, 185, 80, 0.05)',
                            borderWidth: 3,
                            fill: true,
                            tension: 0.4,
                            pointRadius: 0,
                            pointHoverRadius: 6,
                            yAxisID: 'y'
                        },
                        {
                            label: 'Îã§Ïö∞Ï°¥Ïä§',
                            data: dowData,
                            borderColor: '#bc8cff',
                            borderWidth: 2,
                            fill: false,
                            tension: 0.4,
                            pointRadius: 0,
                            pointHoverRadius: 6,
                            yAxisID: 'y'
                        },
                        {
                            label: 'ÌèâÍ∑† Í∏∞Ïò®',
                            data: globalTemp,
                            borderColor: '#ffa657',
                            borderWidth: 3,
                            borderDash: [10, 5],
                            tension: 0.4,
                            fill: false,
                            pointRadius: 0,
                            pointHoverRadius: 6,
                            yAxisID: 'y2'
                        },
                        {
                            label: 'Í∏∞ÌõÑ Ïù¥Î≤§Ìä∏',
                            data: allEvents.map(function(e) { 
                                return { x: e.year, y: sp500Data[e.year - 1985] }; 
                            }),
                            pointStyle: 'triangle',
                            pointRadius: 12,
                            pointHoverRadius: 16,
                            pointBackgroundColor: '#ff7b72',
                            pointBorderColor: '#fff',
                            pointBorderWidth: 3,
                            showLine: false,
                            pointRotation: 180,
                            yAxisID: 'y'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        mode: 'index',
                        intersect: false
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            backgroundColor: '#1d2433',
                            titleColor: '#e6edf3',
                            bodyColor: '#8b949e',
                            borderColor: '#30363d',
                            borderWidth: 1,
                            padding: 15,
                            displayColors: false,
                            callbacks: {
                                title: function(context) {
                                    var year = context[0].label;
                                    var eventsInYear = allEvents.filter(function(e) { return e.year == year; });
                                    if (eventsInYear.length > 0) {
                                        return year + 'ÎÖÑ (' + eventsInYear.length + 'Í∞ú Ïù¥Î≤§Ìä∏)';
                                    }
                                    return year + 'ÎÖÑ';
                                },
                                label: function(context) {
                                    if (context.dataset.label === 'Í∏∞ÌõÑ Ïù¥Î≤§Ìä∏') {
                                        var year = context.parsed.x;
                                        var eventsInYear = allEvents.filter(function(e) { return e.year === year; });
                                        eventsInYear.sort(function(a, b) { return Math.abs(b.impact) - Math.abs(a.impact); });
                                        
                                        var topEvents = eventsInYear.slice(0, 3);
                                        var lines = [];
                                        
                                        topEvents.forEach(function(event, idx) {
                                            var icon = event.impact > 0 ? 'üìà' : event.impact < 0 ? 'üìâ' : 'üìä';
                                            var impactText = event.impact > 0 ? '+' + event.impact : event.impact;
                                            lines.push((idx + 1) + '. ' + icon + ' ' + event.label + ' (' + impactText + '%)');
                                        });
                                        
                                        if (eventsInYear.length > 3) {
                                            lines.push('...Ïô∏ ' + (eventsInYear.length - 3) + 'Í∞ú Îçî');
                                        }
                                        
                                        return lines;
                                    }
                                    return context.dataset.label + ': ' + context.parsed.y.toLocaleString();
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            title: { display: true, text: 'Ïó∞ÎèÑ', color: '#8b949e' },
                            grid: { color: '#30363d', drawBorder: false },
                            ticks: { color: '#8b949e' }
                        },
                        y: {
                            type: 'linear',
                            position: 'left',
                            title: { display: true, text: 'Ï£ºÏãù ÏßÄÏàò', color: '#8b949e' },
                            grid: { color: '#30363d', drawBorder: false },
                            ticks: { color: '#8b949e' }
                        },
                        y2: {
                            type: 'linear',
                            position: 'right',
                            title: { display: true, text: 'Í∏∞Ïò® (¬∞C √ó 100)', color: '#ffa657' },
                            grid: { display: false },
                            ticks: { color: '#ffa657' }
                        }
                    }
                }
            });
        }

        document.querySelectorAll('.btn[data-range]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                var siblings = this.parentElement.querySelectorAll('.btn');
                siblings.forEach(function(b) { b.classList.remove('active'); });
                this.classList.add('active');

                var range = this.dataset.range;
                var years, sp500, nasdaq, dow, temp;

                if (range === 'recent') {
                    years = fullYears.slice(-10);
                    sp500 = sp500Data.slice(-10);
                    nasdaq = nasdaqData.slice(-10);
                    dow = dowData.slice(-10);
                    temp = globalTemp.slice(-10);
                } else if (range === 'decade') {
                    var start = 1990 - 1985;
                    var end = 2000 - 1985;
                    years = fullYears.slice(start, end);
                    sp500 = sp500Data.slice(start, end);
                    nasdaq = nasdaqData.slice(start, end);
                    dow = dowData.slice(start, end);
                    temp = globalTemp.slice(start, end);
                } else if (range === '2000s') {
                    var start = 2000 - 1985;
                    var end = 2010 - 1985;
                    years = fullYears.slice(start, end);
                    sp500 = sp500Data.slice(start, end);
                    nasdaq = nasdaqData.slice(start, end);
                    dow = dowData.slice(start, end);
                    temp = globalTemp.slice(start, end);
                } else {
                    years = fullYears;
                    sp500 = sp500Data;
                    nasdaq = nasdaqData;
                    dow = dowData;
                    temp = globalTemp;
                }

                mainChart.data.labels = years;
                mainChart.data.datasets[0].data = sp500;
                mainChart.data.datasets[1].data = nasdaq;
                mainChart.data.datasets[2].data = dow;
                mainChart.data.datasets[3].data = temp;
                mainChart.update();
            });
        });

        window.addEventListener('DOMContentLoaded', function() {
            createMainChart();
        });
    </script>
</body>
</html>
